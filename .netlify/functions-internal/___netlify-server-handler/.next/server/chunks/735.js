exports.id=735,exports.ids=[735],exports.modules={6471:(a,b,c)=>{"use strict";c.d(b,{w:()=>g});var d=c(21124);c(38301);var e=c(50012),f=c(44943);function g({className:a,orientation:b="horizontal",decorative:c=!0,...g}){return(0,d.jsx)(e.b,{"data-slot":"separator",decorative:c,orientation:b,className:(0,f.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...g})}},11081:(a,b,c)=>{"use strict";c.d(b,{i:()=>d});let d=(0,c(1417).pY)()},11563:(a,b,c)=>{"use strict";c.d(b,{SQ:()=>i,_2:()=>j,lp:()=>k,mB:()=>l,rI:()=>g,ty:()=>h});var d=c(21124);c(38301);var e=c(7363),f=c(44943);function g({...a}){return(0,d.jsx)(e.bL,{"data-slot":"dropdown-menu",...a})}function h({...a}){return(0,d.jsx)(e.l9,{"data-slot":"dropdown-menu-trigger",...a})}function i({className:a,sideOffset:b=4,...c}){return(0,d.jsx)(e.ZL,{children:(0,d.jsx)(e.UC,{"data-slot":"dropdown-menu-content",sideOffset:b,className:(0,f.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...c})})}function j({className:a,inset:b,variant:c="default",...g}){return(0,d.jsx)(e.q7,{"data-slot":"dropdown-menu-item","data-inset":b,"data-variant":c,className:(0,f.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...g})}function k({className:a,inset:b,...c}){return(0,d.jsx)(e.JU,{"data-slot":"dropdown-menu-label","data-inset":b,className:(0,f.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",a),...c})}function l({className:a,...b}){return(0,d.jsx)(e.wv,{"data-slot":"dropdown-menu-separator",className:(0,f.cn)("bg-border -mx-1 my-1 h-px",a),...b})}},14369:(a,b,c)=>{"use strict";c.d(b,{db:()=>h});var d=c(41237),e=c(49122),f=c(30314);let g=process.env.DATABASE_URL,h=null;if(g){let a=(0,e.A)(g,{prepare:!1});h=(0,d.f)(a,{schema:f})}},17233:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},19170:(a,b,c)=>{Promise.resolve().then(c.bind(c,25825)),Promise.resolve().then(c.bind(c,44531))},20157:(a,b,c)=>{Promise.resolve().then(c.bind(c,37880))},20814:(a,b,c)=>{"use strict";c.d(b,{U:()=>e});var d=c(52264);function e(){let a="https://myzzbxhbyiobkmuquwun.supabase.co",b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im15enpieGhieWlvYmttdXF1d3VuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNzE0NjcsImV4cCI6MjA3OTY0NzQ2N30.GvNA4g1zBSSUufkCx52NFLaGbgriwQXCXOPhj3WUEwM";return a&&b?(0,d.createBrowserClient)(a,b):null}},24893:(a,b,c)=>{Promise.resolve().then(c.bind(c,93340))},25825:(a,b,c)=>{"use strict";c.d(b,{Toaster:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/baito.kevin/Downloads/dev/BMAD-METHOD/Axis/axis-event-tracker/src/components/ui/sonner.tsx","Toaster")},26961:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},30314:(a,b,c)=>{"use strict";c.r(b),c.d(b,{auditLogs:()=>v,auditLogsRelations:()=>C,chatbotConversations:()=>D,chatbotConversationsRelations:()=>F,chatbotMessages:()=>E,chatbotMessagesRelations:()=>G,guestTransportAssignments:()=>t,guestTransportAssignmentsRelations:()=>A,guests:()=>q,guestsRelations:()=>x,importSessions:()=>u,importSessionsRelations:()=>B,transportSchedules:()=>s,transportSchedulesRelations:()=>z,users:()=>p,usersRelations:()=>w,vehicles:()=>r,vehiclesRelations:()=>y});var d=c(67969),e=c(29205),f=c(57789),g=c(62352),h=c(46886),i=c(19831),j=c(4396),k=c(84266),l=c(65828),m=c(29745),n=c(94728),o=c(98445);let p=(0,d.cJ)("users",{id:(0,e.uR)("id").defaultRandom().primaryKey(),email:(0,f.yf)("email",{length:255}).notNull().unique(),name:(0,f.yf)("name",{length:255}).notNull(),role:(0,f.yf)("role",{length:50}).notNull().$type(),createdAt:(0,g.vE)("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:(0,g.vE)("updated_at",{withTimezone:!0}).defaultNow().notNull()}),q=(0,d.cJ)("guests",{id:(0,e.uR)("id").defaultRandom().primaryKey(),externalId:(0,f.yf)("external_id",{length:50}),email:(0,f.yf)("email",{length:255}).notNull(),firstName:(0,f.yf)("first_name",{length:100}).notNull(),lastName:(0,f.yf)("last_name",{length:100}).notNull(),axisEmail:(0,f.yf)("axis_email",{length:255}),reportingLevel1:(0,f.yf)("reporting_level_1",{length:100}),reportingLevel2:(0,f.yf)("reporting_level_2",{length:100}),reportingLevel3:(0,f.yf)("reporting_level_3",{length:100}),function:(0,f.yf)("function",{length:100}),location:(0,f.yf)("location",{length:100}),arrivalDate:(0,h.p6)("arrival_date"),arrivalTime:(0,i.kB)("arrival_time"),arrivalFlightNumber:(0,f.yf)("arrival_flight_number",{length:20}),arrivalAirport:(0,f.yf)("arrival_airport",{length:100}),arrivalFlightRoute:(0,f.yf)("arrival_flight_route",{length:50}),arrivalTerminal:(0,f.yf)("arrival_terminal",{length:20}),arrivalGate:(0,f.yf)("arrival_gate",{length:20}),arrivalVerifiedTime:(0,i.kB)("arrival_verified_time"),arrivalFlightStatus:(0,f.yf)("arrival_flight_status",{length:50}).$type(),arrivalVerifiedAt:(0,g.vE)("arrival_verified_at",{withTimezone:!0}),arrivalTimeMismatch:(0,j.zM)("arrival_time_mismatch").default(!1),departureDate:(0,h.p6)("departure_date"),departureTime:(0,i.kB)("departure_time"),departureFlightNumber:(0,f.yf)("departure_flight_number",{length:20}),departureAirport:(0,f.yf)("departure_airport",{length:100}),departureFlightRoute:(0,f.yf)("departure_flight_route",{length:50}),departureTerminal:(0,f.yf)("departure_terminal",{length:20}),departureGate:(0,f.yf)("departure_gate",{length:20}),departureVerifiedTime:(0,i.kB)("departure_verified_time"),departureFlightStatus:(0,f.yf)("departure_flight_status",{length:50}).$type(),departureVerifiedAt:(0,g.vE)("departure_verified_at",{withTimezone:!0}),departureTimeMismatch:(0,j.zM)("departure_time_mismatch").default(!1),hotelCheckinDate:(0,h.p6)("hotel_checkin_date"),hotelCheckoutDate:(0,h.p6)("hotel_checkout_date"),extendStayBefore:(0,j.zM)("extend_stay_before").default(!1),extendStayAfter:(0,j.zM)("extend_stay_after").default(!1),earlyCheckin:(0,f.yf)("early_checkin",{length:50}),lateCheckout:(0,f.yf)("late_checkout",{length:50}),needsArrivalTransfer:(0,j.zM)("needs_arrival_transfer"),needsDepartureTransfer:(0,j.zM)("needs_departure_transfer"),registrationStatus:(0,f.yf)("registration_status",{length:50}).default("pending").$type(),travelType:(0,f.yf)("travel_type",{length:50}),isDuplicate:(0,j.zM)("is_duplicate").default(!1),isRemoved:(0,j.zM)("is_removed").default(!1),version:(0,k.nd)("version").default(1).notNull(),createdAt:(0,g.vE)("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:(0,g.vE)("updated_at",{withTimezone:!0}).defaultNow().notNull(),deletedAt:(0,g.vE)("deleted_at",{withTimezone:!0})},a=>[(0,l.GL)("guests_email_unique").on(a.email),(0,l.Pe)("idx_guests_arrival").on(a.arrivalDate),(0,l.Pe)("idx_guests_departure").on(a.departureDate),(0,l.Pe)("idx_guests_status").on(a.registrationStatus)]),r=(0,d.cJ)("vehicles",{id:(0,e.uR)("id").defaultRandom().primaryKey(),name:(0,f.yf)("name",{length:100}).notNull(),type:(0,f.yf)("type",{length:50}).notNull(),capacity:(0,k.nd)("capacity").notNull(),driverName:(0,f.yf)("driver_name",{length:100}),driverPhone:(0,f.yf)("driver_phone",{length:50}),licensePlate:(0,f.yf)("license_plate",{length:20}),isActive:(0,j.zM)("is_active").default(!0),createdAt:(0,g.vE)("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:(0,g.vE)("updated_at",{withTimezone:!0}).defaultNow().notNull()}),s=(0,d.cJ)("transport_schedules",{id:(0,e.uR)("id").defaultRandom().primaryKey(),vehicleId:(0,e.uR)("vehicle_id").references(()=>r.id),direction:(0,f.yf)("direction",{length:20}).notNull().$type(),scheduleDate:(0,h.p6)("schedule_date").notNull(),pickupTime:(0,i.kB)("pickup_time").notNull(),pickupLocation:(0,f.yf)("pickup_location",{length:255}),dropoffLocation:(0,f.yf)("dropoff_location",{length:255}),status:(0,f.yf)("status",{length:50}).default("scheduled").$type(),notes:(0,m.Qq)("notes"),createdAt:(0,g.vE)("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:(0,g.vE)("updated_at",{withTimezone:!0}).defaultNow().notNull()},a=>[(0,l.Pe)("idx_transport_date").on(a.scheduleDate),(0,l.Pe)("idx_transport_vehicle").on(a.vehicleId)]),t=(0,d.cJ)("guest_transport_assignments",{id:(0,e.uR)("id").defaultRandom().primaryKey(),guestId:(0,e.uR)("guest_id").references(()=>q.id).notNull(),scheduleId:(0,e.uR)("schedule_id").references(()=>s.id).notNull(),assignmentType:(0,f.yf)("assignment_type",{length:20}).notNull().$type(),status:(0,f.yf)("status",{length:50}).default("assigned").$type(),createdAt:(0,g.vE)("created_at",{withTimezone:!0}).defaultNow().notNull()},a=>[(0,l.GL)("guest_assignment_unique").on(a.guestId,a.assignmentType),(0,l.Pe)("idx_assignment_schedule").on(a.scheduleId)]),u=(0,d.cJ)("import_sessions",{id:(0,e.uR)("id").defaultRandom().primaryKey(),filename:(0,f.yf)("filename",{length:255}).notNull(),fileHash:(0,f.yf)("file_hash",{length:64}),uploadedBy:(0,e.uR)("uploaded_by").references(()=>p.id),status:(0,f.yf)("status",{length:50}).default("pending").$type(),totalRows:(0,k.nd)("total_rows"),rowsAdded:(0,k.nd)("rows_added").default(0),rowsModified:(0,k.nd)("rows_modified").default(0),rowsRemoved:(0,k.nd)("rows_removed").default(0),rowsUnchanged:(0,k.nd)("rows_unchanged").default(0),rowsError:(0,k.nd)("rows_error").default(0),errorDetails:(0,n.Fx)("error_details"),startedAt:(0,g.vE)("started_at",{withTimezone:!0}),completedAt:(0,g.vE)("completed_at",{withTimezone:!0}),createdAt:(0,g.vE)("created_at",{withTimezone:!0}).defaultNow().notNull()}),v=(0,d.cJ)("audit_logs",{id:(0,e.uR)("id").defaultRandom().primaryKey(),entityType:(0,f.yf)("entity_type",{length:50}).notNull().$type(),entityId:(0,e.uR)("entity_id").notNull(),action:(0,f.yf)("action",{length:20}).notNull().$type(),changes:(0,n.Fx)("changes").notNull().$type(),changeSource:(0,f.yf)("change_source",{length:20}).$type(),importSessionId:(0,e.uR)("import_session_id").references(()=>u.id),performedBy:(0,e.uR)("performed_by").references(()=>p.id),performedAt:(0,g.vE)("performed_at",{withTimezone:!0}).defaultNow().notNull()},a=>[(0,l.Pe)("idx_audit_entity").on(a.entityType,a.entityId),(0,l.Pe)("idx_audit_timestamp").on(a.performedAt)]),w=(0,o.K1)(p,({many:a})=>({auditLogs:a(v),importSessions:a(u)})),x=(0,o.K1)(q,({many:a})=>({transportAssignments:a(t)})),y=(0,o.K1)(r,({many:a})=>({schedules:a(s)})),z=(0,o.K1)(s,({one:a,many:b})=>({vehicle:a(r,{fields:[s.vehicleId],references:[r.id]}),assignments:b(t)})),A=(0,o.K1)(t,({one:a})=>({guest:a(q,{fields:[t.guestId],references:[q.id]}),schedule:a(s,{fields:[t.scheduleId],references:[s.id]})})),B=(0,o.K1)(u,({one:a,many:b})=>({uploadedByUser:a(p,{fields:[u.uploadedBy],references:[p.id]}),auditLogs:b(v)})),C=(0,o.K1)(v,({one:a})=>({performedByUser:a(p,{fields:[v.performedBy],references:[p.id]}),importSession:a(u,{fields:[v.importSessionId],references:[u.id]})})),D=(0,d.cJ)("chatbot_conversations",{id:(0,e.uR)("id").defaultRandom().primaryKey(),userId:(0,e.uR)("user_id").references(()=>p.id),sessionId:(0,f.yf)("session_id",{length:100}).notNull(),title:(0,f.yf)("title",{length:255}),createdAt:(0,g.vE)("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:(0,g.vE)("updated_at",{withTimezone:!0}).defaultNow().notNull()},a=>[(0,l.Pe)("idx_conversation_user").on(a.userId),(0,l.Pe)("idx_conversation_session").on(a.sessionId)]),E=(0,d.cJ)("chatbot_messages",{id:(0,e.uR)("id").defaultRandom().primaryKey(),conversationId:(0,e.uR)("conversation_id").references(()=>D.id).notNull(),role:(0,f.yf)("role",{length:20}).notNull().$type(),content:(0,m.Qq)("content").notNull(),metadata:(0,n.Fx)("metadata").$type(),createdAt:(0,g.vE)("created_at",{withTimezone:!0}).defaultNow().notNull()},a=>[(0,l.Pe)("idx_message_conversation").on(a.conversationId),(0,l.Pe)("idx_message_created").on(a.createdAt)]),F=(0,o.K1)(D,({one:a,many:b})=>({user:a(p,{fields:[D.userId],references:[p.id]}),messages:b(E)})),G=(0,o.K1)(E,({one:a})=>({conversation:a(D,{fields:[E.conversationId],references:[D.id]})}))},35284:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(21124);c(38301);var e=c(96425),f=c(26691),g=c(44943);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},37322:(a,b,c)=>{Promise.resolve().then(c.bind(c,48911)),Promise.resolve().then(c.bind(c,88061))},37880:(a,b,c)=>{"use strict";c.d(b,{AppShell:()=>W});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(42378),i=c(77850),j=c(65893),k=c(91175),l=c(52647),m=c(6343),n=c(3663),o=c(43700),p=c(94684),q=c(44943),r=c(86851),s=c(6471);let t=[{name:"Dashboard",href:"/dashboard",icon:i.A},{name:"Guests",href:"/guests",icon:j.A},{name:"Transport",href:"/transport",icon:k.A},{name:"Flights",href:"/flights",icon:l.A},{name:"Itinerary",href:"/itinerary",icon:m.A},{name:"Audit Log",href:"/audit",icon:n.A,crewOnly:!0}],u=[{name:"Import Data",href:"/guests/import",icon:o.A,crewOnly:!0},{name:"Settings",href:"/settings",icon:p.A,crewOnly:!0}];function v({user:a,mobile:b,open:c,onClose:e}){let f=(0,h.usePathname)(),i="event_registration_crew"===a.role,j=t.filter(a=>!a.crewOnly||i),k=u.filter(a=>!a.crewOnly||i),l=(0,d.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-card px-6 pb-4",children:[(0,d.jsxs)("div",{className:"flex h-16 shrink-0 items-center",children:[(0,d.jsx)("span",{className:"text-xl font-bold text-primary",children:"AXIS"}),(0,d.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Event Tracker"})]}),(0,d.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,d.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,d.jsx)("li",{children:(0,d.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:j.map(a=>{let b=f===a.href||f.startsWith(a.href+"/");return(0,d.jsx)("li",{children:(0,d.jsxs)(g(),{href:a.href,onClick:e,className:(0,q.cn)("group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6",b?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,d.jsx)(a.icon,{className:(0,q.cn)("h-5 w-5 shrink-0"),"aria-hidden":"true"}),a.name]})},a.name)})})}),k.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.w,{}),(0,d.jsxs)("li",{children:[(0,d.jsx)("div",{className:"text-xs font-semibold leading-6 text-muted-foreground",children:"Management"}),(0,d.jsx)("ul",{role:"list",className:"-mx-2 mt-2 space-y-1",children:k.map(a=>{let b=f===a.href;return(0,d.jsx)("li",{children:(0,d.jsxs)(g(),{href:a.href,onClick:e,className:(0,q.cn)("group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6",b?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,d.jsx)(a.icon,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),a.name]})},a.name)})})]})]}),(0,d.jsx)("li",{className:"mt-auto",children:(0,d.jsxs)("div",{className:"rounded-md bg-accent p-3",children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:a.email}),(0,d.jsx)("p",{className:"mt-1 text-xs capitalize text-muted-foreground",children:a.role.replace(/_/g," ")})]})})]})})]});return b?(0,d.jsx)(r.cj,{open:c,onOpenChange:e,children:(0,d.jsx)(r.h,{side:"left",className:"w-64 p-0",children:l})}):(0,d.jsx)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-border bg-card",children:l})}var w=c(6130),x=c(47268),y=c(19710),z=c(35284),A=c(11563),B=c(71507);function C({className:a,...b}){return(0,d.jsx)(B.bL,{"data-slot":"avatar",className:(0,q.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...b})}function D({className:a,...b}){return(0,d.jsx)(B.H4,{"data-slot":"avatar-fallback",className:(0,q.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...b})}var E=c(20814);function F({user:a,onMenuClick:b}){let c=(0,h.useRouter)(),e=(0,E.U)(),f=async()=>{e&&await e.auth.signOut(),c.push("/login")},g=a.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return(0,d.jsxs)("header",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background px-4 sm:gap-x-6 sm:px-6 lg:px-8",children:[(0,d.jsxs)(z.$,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:b,children:[(0,d.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,d.jsx)(w.A,{className:"h-5 w-5","aria-hidden":"true"})]}),(0,d.jsx)("div",{className:"h-6 w-px bg-border lg:hidden","aria-hidden":"true"}),(0,d.jsxs)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[(0,d.jsx)("div",{className:"flex flex-1 items-center",children:(0,d.jsx)("h1",{className:"text-lg font-semibold lg:hidden",children:"AXIS Event Tracker"})}),(0,d.jsxs)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[(0,d.jsxs)(z.$,{variant:"ghost",size:"icon",className:"relative",children:[(0,d.jsx)("span",{className:"sr-only",children:"View notifications"}),(0,d.jsx)(x.A,{className:"h-5 w-5","aria-hidden":"true"})]}),(0,d.jsx)("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-border","aria-hidden":"true"}),(0,d.jsxs)(A.rI,{children:[(0,d.jsx)(A.ty,{asChild:!0,children:(0,d.jsx)(z.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,d.jsx)(C,{className:"h-8 w-8",children:(0,d.jsx)(D,{children:g})})})}),(0,d.jsxs)(A.SQ,{className:"w-56",align:"end",forceMount:!0,children:[(0,d.jsx)(A.lp,{className:"font-normal",children:(0,d.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium leading-none",children:a.name}),(0,d.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:a.email})]})}),(0,d.jsx)(A.mB,{}),(0,d.jsxs)(A._2,{onClick:f,children:[(0,d.jsx)(y.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Sign out"})]})]})]})]})]})]})}var G=c(38882);function H({user:a}){let b=(0,h.usePathname)(),c="event_registration_crew"===a.role,e=[{name:"Dashboard",href:"/dashboard",icon:i.A},{name:"Guests",href:"/guests",icon:j.A},{name:"Transport",href:"/transport",icon:k.A},{name:"Flights",href:"/flights",icon:l.A}],f=[{name:"Itinerary",href:"/itinerary",icon:m.A},{name:"Audit Log",href:"/audit",icon:n.A,crewOnly:!0},{name:"Import Data",href:"/guests/import",icon:o.A,crewOnly:!0},{name:"Settings",href:"/settings",icon:p.A,crewOnly:!0}].filter(a=>!a.crewOnly||c);return(0,d.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-background lg:hidden",children:(0,d.jsxs)("div",{className:"flex h-16 items-center justify-around px-4",children:[e.map(a=>{let c=b===a.href||b.startsWith(a.href+"/");return(0,d.jsxs)(g(),{href:a.href,className:(0,q.cn)("flex flex-col items-center justify-center gap-1 px-3 py-2",c?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,d.jsx)(a.icon,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"text-xs font-medium",children:a.name})]},a.name)}),f.length>0&&(0,d.jsxs)(A.rI,{children:[(0,d.jsxs)(A.ty,{className:"flex flex-col items-center justify-center gap-1 px-3 py-2 text-muted-foreground hover:text-foreground",children:[(0,d.jsx)(G.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"text-xs font-medium",children:"More"})]}),(0,d.jsx)(A.SQ,{align:"end",className:"w-48",children:f.map(a=>(0,d.jsx)(A._2,{asChild:!0,children:(0,d.jsxs)(g(),{href:a.href,className:"flex items-center gap-2",children:[(0,d.jsx)(a.icon,{className:"h-4 w-4"}),a.name]})},a.name))})]})]})})}var I=c(47331),J=c(25133),K=c(71179),L=c(75234),M=c(40284),N=c(47089),O=c(14263),P=c(71563),Q=c(80665),R=c(11081),S=c(45798),T=c(18954);let U={id:"welcome",role:"assistant",content:"Hello! I'm your Axis Event Tracker assistant. I can help you with:\n- Finding guest information\n- Checking arrival and departure schedules\n- Transport and vehicle assignments\n- Event statistics and summaries\n\nWhat would you like to know?",timestamp:new Date};function V(){let[a,b]=(0,e.useState)(!1),[c,f]=(0,e.useState)([U]),[g,h]=(0,e.useState)(""),[i]=(0,e.useState)(()=>`session-${Date.now()}`),j=(0,e.useRef)(null),k=(0,e.useRef)(null),l=R.i.chatbot.sendMessage.useMutation(),m=R.i.chatbot.clearHistory.useMutation(),n=async()=>{if(!g.trim()||l.isPending)return;let a={id:`user-${Date.now()}`,role:"user",content:g.trim(),timestamp:new Date};f(b=>[...b,a]),h("");try{let b=await l.mutateAsync({message:a.content,sessionId:i}),c={id:`assistant-${Date.now()}`,role:"assistant",content:b.response,timestamp:new Date};f(a=>[...a,c])}catch(b){let a={id:`error-${Date.now()}`,role:"assistant",content:"I'm sorry, I encountered an error. Please try again.",timestamp:new Date};f(b=>[...b,a])}},o=async()=>{await m.mutateAsync({sessionId:i}),f([{id:"welcome-new",role:"assistant",content:"Chat cleared. How can I help you?",timestamp:new Date}])},p={table:({children:a})=>(0,d.jsx)("div",{className:"overflow-x-auto my-2 rounded-lg border border-border",children:(0,d.jsx)("table",{className:"min-w-full text-xs",children:a})}),thead:({children:a})=>(0,d.jsx)("thead",{className:"bg-muted/50",children:a}),tbody:({children:a})=>(0,d.jsx)("tbody",{className:"divide-y divide-border",children:a}),tr:({children:a})=>(0,d.jsx)("tr",{className:"hover:bg-muted/30 transition-colors",children:a}),th:({children:a})=>(0,d.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-foreground whitespace-nowrap",children:a}),td:({children:a})=>(0,d.jsx)("td",{className:"px-2 py-1.5 text-muted-foreground whitespace-nowrap",children:a}),p:({children:a})=>(0,d.jsx)("p",{className:"mb-2 last:mb-0",children:a}),ul:({children:a})=>(0,d.jsx)("ul",{className:"list-disc list-inside mb-2 space-y-1",children:a}),ol:({children:a})=>(0,d.jsx)("ol",{className:"list-decimal list-inside mb-2 space-y-1",children:a}),li:({children:a})=>(0,d.jsx)("li",{className:"text-sm",children:a}),strong:({children:a})=>(0,d.jsx)("strong",{className:"font-semibold",children:a}),em:({children:a})=>(0,d.jsx)("em",{className:"italic",children:a}),code:({children:a})=>(0,d.jsx)("code",{className:"px-1 py-0.5 bg-muted rounded text-xs font-mono",children:a})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(I.N,{children:!a&&(0,d.jsxs)(J.P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed bottom-20 right-4 lg:bottom-6 lg:right-6 z-50",children:[(0,d.jsxs)(z.$,{onClick:()=>b(!0),size:"icon-lg",className:"size-14 rounded-full shadow-lg bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,d.jsx)(K.A,{className:"size-6"}),(0,d.jsx)("span",{className:"sr-only",children:"Open chat assistant"})]}),(0,d.jsxs)("span",{className:"absolute -top-1 -right-1 flex h-4 w-4",children:[(0,d.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary/40 opacity-75"}),(0,d.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-primary/60"})]})]})}),(0,d.jsx)(I.N,{children:a&&(0,d.jsx)(J.P.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"fixed bottom-20 right-4 lg:bottom-6 lg:right-6 z-50 w-[calc(100vw-2rem)] max-w-md",children:(0,d.jsxs)("div",{className:"bg-background border rounded-xl shadow-2xl flex flex-col h-[500px] max-h-[80vh] overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-primary/5 rounded-t-xl",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,d.jsx)(L.A,{className:"size-4 text-primary"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-sm",children:"Axis Assistant"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ask me anything about events"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(z.$,{variant:"ghost",size:"icon-sm",onClick:o,title:"Clear chat",className:"text-muted-foreground hover:text-foreground",children:(0,d.jsx)(M.A,{className:"size-4"})}),(0,d.jsx)(z.$,{variant:"ghost",size:"icon-sm",onClick:()=>b(!1),className:"text-muted-foreground hover:text-foreground",children:(0,d.jsx)(N.A,{className:"size-4"})})]})]}),(0,d.jsx)(Q.F,{ref:j,className:"flex-1 min-h-0 p-4",children:(0,d.jsxs)("div",{className:"space-y-4",children:[c.map(a=>(0,d.jsx)("div",{className:(0,q.cn)("flex","user"===a.role?"justify-end":"justify-start"),children:(0,d.jsx)("div",{className:(0,q.cn)("max-w-[85%] rounded-2xl px-4 py-2.5 text-sm","user"===a.role?"bg-primary text-primary-foreground rounded-br-md":"bg-muted rounded-bl-md"),children:(0,d.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:(0,d.jsx)(S.oz,{remarkPlugins:[T.A],components:p,children:a.content})})})},a.id)),l.isPending&&(0,d.jsx)("div",{className:"flex justify-start",children:(0,d.jsx)("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:(0,d.jsx)(O.A,{className:"size-4 animate-spin text-muted-foreground"})})})]})}),(0,d.jsxs)("div",{className:"p-4 border-t bg-background rounded-b-xl",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("textarea",{ref:k,value:g,onChange:a=>h(a.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),n())},placeholder:"Ask about guests, arrivals, transfers...",rows:1,className:(0,q.cn)("flex-1 resize-none rounded-xl border bg-background px-4 py-2.5 text-sm","focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","placeholder:text-muted-foreground","h-[44px] max-h-[120px]")}),(0,d.jsx)(z.$,{onClick:n,disabled:!g.trim()||l.isPending,size:"icon",className:"rounded-xl shrink-0 h-[44px] w-[44px]",children:l.isPending?(0,d.jsx)(O.A,{className:"size-4 animate-spin"}):(0,d.jsx)(P.A,{className:"size-4"})})]}),(0,d.jsx)("p",{className:"text-[10px] text-muted-foreground mt-2 text-center",children:"AI assistant may make mistakes. Verify important information."})]})]})})})]})}function W({children:a,user:b}){let[c,f]=(0,e.useState)(!1);return(0,d.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,d.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:(0,d.jsx)(v,{user:b})}),(0,d.jsx)(v,{user:b,mobile:!0,open:c,onClose:()=>f(!1)}),(0,d.jsxs)("div",{className:"lg:pl-64",children:[(0,d.jsx)(F,{user:b,onMenuClick:()=>f(!0)}),(0,d.jsx)("main",{className:"pb-20 lg:pb-8",children:(0,d.jsx)("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:a})})]}),(0,d.jsx)(H,{user:b}),(0,d.jsx)(V,{})]})}},44531:(a,b,c)=>{"use strict";c.d(b,{TRPCProvider:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call TRPCProvider() from the server but TRPCProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/baito.kevin/Downloads/dev/BMAD-METHOD/Axis/axis-event-tracker/src/lib/trpc/provider.tsx","TRPCProvider")},44943:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},48152:(a,b,c)=>{"use strict";c.d(b,{$:()=>f,U:()=>g});var d=c(23802),e=c(86802);function f(){return!0}async function g(){let a="https://myzzbxhbyiobkmuquwun.supabase.co",b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im15enpieGhieWlvYmttdXF1d3VuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNzE0NjcsImV4cCI6MjA3OTY0NzQ2N30.GvNA4g1zBSSUufkCx52NFLaGbgriwQXCXOPhj3WUEwM";if(!a||!b)return null;let c=await (0,e.UL)();return(0,d.createServerClient)(a,b,{cookies:{getAll:()=>c.getAll(),setAll(a){try{a.forEach(({name:a,value:b,options:d})=>c.set(a,b,d))}catch{}}}})}},48911:(a,b,c)=>{"use strict";c.d(b,{Toaster:()=>l});var d=c(21124),e=c(59268),f=c(71117),g=c(16945),h=c(56899),i=c(14263),j=c(45523),k=c(42830);let l=({...a})=>{let{theme:b="system"}=(0,j.D)();return(0,d.jsx)(k.l$,{theme:b,className:"toaster group",icons:{success:(0,d.jsx)(e.A,{className:"size-4"}),info:(0,d.jsx)(f.A,{className:"size-4"}),warning:(0,d.jsx)(g.A,{className:"size-4"}),error:(0,d.jsx)(h.A,{className:"size-4"}),loading:(0,d.jsx)(i.A,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...a})}},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j,metadata:()=>i});var d=c(75338),e=c(76555),f=c.n(e);c(61135);var g=c(44531),h=c(25825);let i={title:"AXIS Event Tracker",description:"Guest transportation and registration tracking for AXIS APAC Kickoff 2026"};function j({children:a}){return(0,d.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,d.jsxs)("body",{className:`${f().variable} font-sans antialiased`,children:[(0,d.jsx)(g.TRPCProvider,{children:a}),(0,d.jsx)(h.Toaster,{})]})})}},61135:()=>{},64261:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k});var d=c(75338),e=c(82161),f=c(48152),g=c(14369),h=c(30314),i=c(48689),j=c(93340);async function k({children:a}){if(!(0,f.$)())return(0,d.jsx)(j.AppShell,{user:{name:"Demo User",email:"demo@example.com",role:"event_registration_crew"},children:a});let b=await (0,f.U)();b||(0,e.redirect)("/login");let{data:{user:c},error:k}=await b.auth.getUser();(k||!c)&&(0,e.redirect)("/login");let l=c.user_metadata?.full_name?c.user_metadata.full_name:c.user_metadata?.name?c.user_metadata.name:c.email?c.email.split("@")[0]:"User",m=c.email||"unknown@example.com",n="event_registration_crew";if(process.env.DATABASE_URL&&g.db){let a=await g.db.query.users.findFirst({where:(0,i.eq)(h.users.email,c.email)});a&&(l=a.name,m=a.email,n=a.role)}return(0,d.jsx)(j.AppShell,{user:{name:l,email:m,role:n},children:a})}},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},80665:(a,b,c)=>{"use strict";c.d(b,{F:()=>g});var d=c(21124);c(38301);var e=c(22681),f=c(44943);function g({className:a,children:b,...c}){return(0,d.jsxs)(e.bL,{"data-slot":"scroll-area",className:(0,f.cn)("relative",a),...c,children:[(0,d.jsx)(e.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:b}),(0,d.jsx)(h,{}),(0,d.jsx)(e.OK,{})]})}function h({className:a,orientation:b="vertical",...c}){return(0,d.jsx)(e.VM,{"data-slot":"scroll-area-scrollbar",orientation:b,className:(0,f.cn)("flex touch-none p-px transition-colors select-none","vertical"===b&&"h-full w-2.5 border-l border-l-transparent","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent",a),...c,children:(0,d.jsx)(e.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},86851:(a,b,c)=>{"use strict";c.d(b,{Fm:()=>l,Qs:()=>n,cj:()=>h,h:()=>k,qp:()=>m});var d=c(21124);c(38301);var e=c(41580),f=c(47089),g=c(44943);function h({...a}){return(0,d.jsx)(e.bL,{"data-slot":"sheet",...a})}function i({...a}){return(0,d.jsx)(e.ZL,{"data-slot":"sheet-portal",...a})}function j({className:a,...b}){return(0,d.jsx)(e.hJ,{"data-slot":"sheet-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function k({className:a,children:b,side:c="right",...h}){return(0,d.jsxs)(i,{children:[(0,d.jsx)(j,{}),(0,d.jsxs)(e.UC,{"data-slot":"sheet-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===c&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===c&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===c&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===c&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t overflow-hidden",a),...h,children:[b,(0,d.jsxs)(e.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,d.jsx)(f.A,{className:"size-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function l({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"sheet-header",className:(0,g.cn)("flex flex-col gap-1.5 p-4",a),...b})}function m({className:a,...b}){return(0,d.jsx)(e.hE,{"data-slot":"sheet-title",className:(0,g.cn)("text-foreground font-semibold",a),...b})}function n({className:a,...b}){return(0,d.jsx)(e.VY,{"data-slot":"sheet-description",className:(0,g.cn)("text-muted-foreground text-sm",a),...b})}},88061:(a,b,c)=>{"use strict";c.d(b,{TRPCProvider:()=>j});var d=c(21124),e=c(83279),f=c(96610),g=c(66676),h=c(38301),i=c(11081);function j({children:a}){let[b]=(0,h.useState)(()=>new e.E({defaultOptions:{queries:{staleTime:3e5,refetchOnWindowFocus:!1}}})),[c]=(0,h.useState)(()=>i.i.createClient({links:[(0,g.fu)({url:`${process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:`http://localhost:${process.env.PORT??3e3}`}/api/trpc`})]}));return(0,d.jsx)(i.i.Provider,{client:c,queryClient:b,children:(0,d.jsx)(f.Ht,{client:b,children:a})})}},93340:(a,b,c)=>{"use strict";c.d(b,{AppShell:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call AppShell() from the server but AppShell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/baito.kevin/Downloads/dev/BMAD-METHOD/Axis/axis-event-tracker/src/components/layout/app-shell.tsx","AppShell")}};