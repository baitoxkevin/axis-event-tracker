(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{3998:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(95155);s(12115);var r=s(32467),n=s(83101),i=s(64269);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:n,asChild:o=!1,...d}=e,c=o?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...d})}},6259:(e,t,s)=>{"use strict";s.d(t,{SQ:()=>o,_2:()=>d,lp:()=>c,mB:()=>m,rI:()=>i,ty:()=>l});var a=s(95155);s(12115);var r=s(14161),n=s(64269);function i(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"dropdown-menu",...t})}function l(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"dropdown-menu-trigger",...t})}function o(e){let{className:t,sideOffset:s=4,...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...i})})}function d(e){let{className:t,inset:s,variant:i="default",...l}=e;return(0,a.jsx)(r.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":i,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}function c(e){let{className:t,inset:s,...i}=e;return(0,a.jsx)(r.JU,{"data-slot":"dropdown-menu-label","data-inset":s,className:(0,n.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...i})}function m(e){let{className:t,...s}=e;return(0,a.jsx)(r.wv,{"data-slot":"dropdown-menu-separator",className:(0,n.cn)("bg-border -mx-1 my-1 h-px",t),...s})}},10523:(e,t,s)=>{Promise.resolve().then(s.bind(s,58225))},17037:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var a=s(95155);s(12115);var r=s(96898),n=s(64269);function i(e){let{className:t,children:s,...i}=e;return(0,a.jsxs)(r.bL,{"data-slot":"scroll-area",className:(0,n.cn)("relative",t),...i,children:[(0,a.jsx)(r.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),(0,a.jsx)(l,{}),(0,a.jsx)(r.OK,{})]})}function l(e){let{className:t,orientation:s="vertical",...i}=e;return(0,a.jsx)(r.VM,{"data-slot":"scroll-area-scrollbar",orientation:s,className:(0,n.cn)("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",t),...i,children:(0,a.jsx)(r.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},23183:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});let a=(0,s(99914).pY)()},27063:(e,t,s)=>{"use strict";s.d(t,{Fm:()=>m,Qs:()=>x,cj:()=>l,h:()=>c,qp:()=>u});var a=s(95155);s(12115);var r=s(76297),n=s(65229),i=s(64269);function l(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"sheet",...t})}function o(e){let{...t}=e;return(0,a.jsx)(r.ZL,{"data-slot":"sheet-portal",...t})}function d(e){let{className:t,...s}=e;return(0,a.jsx)(r.hJ,{"data-slot":"sheet-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function c(e){let{className:t,children:s,side:l="right",...c}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(r.UC,{"data-slot":"sheet-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===l&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===l&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===l&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===l&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t overflow-hidden",t),...c,children:[s,(0,a.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(n.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sheet-header",className:(0,i.cn)("flex flex-col gap-1.5 p-4",t),...s})}function u(e){let{className:t,...s}=e;return(0,a.jsx)(r.hE,{"data-slot":"sheet-title",className:(0,i.cn)("text-foreground font-semibold",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(r.VY,{"data-slot":"sheet-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...s})}},58225:(e,t,s)=>{"use strict";s.d(t,{AppShell:()=>H});var a=s(95155),r=s(12115),n=s(52619),i=s.n(n),l=s(20063),o=s(59384),d=s(91169),c=s(20779),m=s(54255),u=s(10383),x=s(89715),h=s(21786),f=s(15870),p=s(64269),g=s(27063),b=s(86259);let v=[{name:"Dashboard",href:"/dashboard",icon:o.A},{name:"Guests",href:"/guests",icon:d.A},{name:"Transport",href:"/transport",icon:c.A},{name:"Flights",href:"/flights",icon:m.A},{name:"Itinerary",href:"/itinerary",icon:u.A},{name:"Audit Log",href:"/audit",icon:x.A,crewOnly:!0}],j=[{name:"Import Data",href:"/guests/import",icon:h.A,crewOnly:!0},{name:"Settings",href:"/settings",icon:f.A,crewOnly:!0}];function N(e){let{user:t,mobile:s,open:r,onClose:n}=e,o=(0,l.usePathname)(),d="event_registration_crew"===t.role,c=v.filter(e=>!e.crewOnly||d),m=j.filter(e=>!e.crewOnly||d),u=(0,a.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-card px-6 pb-4",children:[(0,a.jsxs)("div",{className:"flex h-16 shrink-0 items-center",children:[(0,a.jsx)("span",{className:"text-xl font-bold text-primary",children:"AXIS"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Event Tracker"})]}),(0,a.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,a.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,a.jsx)("li",{children:(0,a.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:c.map(e=>{let t=o===e.href||o.startsWith(e.href+"/");return(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:e.href,onClick:n,className:(0,p.cn)("group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6",t?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,a.jsx)(e.icon,{className:(0,p.cn)("h-5 w-5 shrink-0"),"aria-hidden":"true"}),e.name]})},e.name)})})}),m.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.w,{}),(0,a.jsxs)("li",{children:[(0,a.jsx)("div",{className:"text-xs font-semibold leading-6 text-muted-foreground",children:"Management"}),(0,a.jsx)("ul",{role:"list",className:"-mx-2 mt-2 space-y-1",children:m.map(e=>{let t=o===e.href;return(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:e.href,onClick:n,className:(0,p.cn)("group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6",t?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),e.name]})},e.name)})})]})]}),(0,a.jsx)("li",{className:"mt-auto",children:(0,a.jsxs)("div",{className:"rounded-md bg-accent p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:t.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.email}),(0,a.jsx)("p",{className:"mt-1 text-xs capitalize text-muted-foreground",children:t.role.replace(/_/g," ")})]})})]})})]});return s?(0,a.jsx)(g.cj,{open:r,onOpenChange:n,children:(0,a.jsx)(g.h,{side:"left",className:"w-64 p-0",children:u})}):(0,a.jsx)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-border bg-card",children:u})}var y=s(9540),w=s(85998),k=s(84926),z=s(3998),A=s(6259),C=s(46591);function I(e){let{className:t,...s}=e;return(0,a.jsx)(C.bL,{"data-slot":"avatar",className:(0,p.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function O(e){let{className:t,...s}=e;return(0,a.jsx)(C.H4,{"data-slot":"avatar-fallback",className:(0,p.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}var _=s(96648);function S(e){let{user:t,onMenuClick:s}=e,r=(0,l.useRouter)(),n=(0,_.U)(),i=async()=>{n&&await n.auth.signOut(),r.push("/login")},o=t.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return(0,a.jsxs)("header",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background px-4 sm:gap-x-6 sm:px-6 lg:px-8",children:[(0,a.jsxs)(z.$,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:s,children:[(0,a.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,a.jsx)(y.A,{className:"h-5 w-5","aria-hidden":"true"})]}),(0,a.jsx)("div",{className:"h-6 w-px bg-border lg:hidden","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[(0,a.jsx)("div",{className:"flex flex-1 items-center",children:(0,a.jsx)("h1",{className:"text-lg font-semibold lg:hidden",children:"AXIS Event Tracker"})}),(0,a.jsxs)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[(0,a.jsxs)(z.$,{variant:"ghost",size:"icon",className:"relative",children:[(0,a.jsx)("span",{className:"sr-only",children:"View notifications"}),(0,a.jsx)(w.A,{className:"h-5 w-5","aria-hidden":"true"})]}),(0,a.jsx)("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-border","aria-hidden":"true"}),(0,a.jsxs)(A.rI,{children:[(0,a.jsx)(A.ty,{asChild:!0,children:(0,a.jsx)(z.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,a.jsx)(I,{className:"h-8 w-8",children:(0,a.jsx)(O,{children:o})})})}),(0,a.jsxs)(A.SQ,{className:"w-56",align:"end",forceMount:!0,children:[(0,a.jsx)(A.lp,{className:"font-normal",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:t.name}),(0,a.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),(0,a.jsx)(A.mB,{}),(0,a.jsxs)(A._2,{onClick:i,children:[(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Sign out"})]})]})]})]})]})]})}var D=s(37772);function E(e){let{user:t}=e,s=(0,l.usePathname)(),r="event_registration_crew"===t.role,n=[{name:"Dashboard",href:"/dashboard",icon:o.A},{name:"Guests",href:"/guests",icon:d.A},{name:"Transport",href:"/transport",icon:c.A},{name:"Flights",href:"/flights",icon:m.A}],g=[{name:"Itinerary",href:"/itinerary",icon:u.A},{name:"Audit Log",href:"/audit",icon:x.A,crewOnly:!0},{name:"Import Data",href:"/guests/import",icon:h.A,crewOnly:!0},{name:"Settings",href:"/settings",icon:f.A,crewOnly:!0}].filter(e=>!e.crewOnly||r);return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-background lg:hidden",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-around px-4",children:[n.map(e=>{let t=s===e.href||s.startsWith(e.href+"/");return(0,a.jsxs)(i(),{href:e.href,className:(0,p.cn)("flex flex-col items-center justify-center gap-1 px-3 py-2",t?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:e.name})]},e.name)}),g.length>0&&(0,a.jsxs)(A.rI,{children:[(0,a.jsxs)(A.ty,{className:"flex flex-col items-center justify-center gap-1 px-3 py-2 text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(D.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:"More"})]}),(0,a.jsx)(A.SQ,{align:"end",className:"w-48",children:g.map(e=>(0,a.jsx)(A._2,{asChild:!0,children:(0,a.jsxs)(i(),{href:e.href,className:"flex items-center gap-2",children:[(0,a.jsx)(e.icon,{className:"h-4 w-4"}),e.name]})},e.name))})]})]})})}var F=s(26497),P=s(8751),M=s(5937),L=s(95740),J=s(71360),Q=s(65229),T=s(35299),U=s(18085),X=s(17037),$=s(23183),V=s(6504),G=s(22133);let Y={id:"welcome",role:"assistant",content:"Hello! I'm your Axis Event Tracker assistant. I can help you with:\n- Finding guest information\n- Checking arrival and departure schedules\n- Transport and vehicle assignments\n- Event statistics and summaries\n\nWhat would you like to know?",timestamp:new Date};function B(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)([Y]),[i,l]=(0,r.useState)(""),[o]=(0,r.useState)(()=>"session-".concat(Date.now())),d=(0,r.useRef)(null),c=(0,r.useRef)(null),m=$.i.chatbot.sendMessage.useMutation(),u=$.i.chatbot.clearHistory.useMutation();(0,r.useEffect)(()=>{if(d.current){let e=d.current.querySelector("[data-radix-scroll-area-viewport]");e&&(e.scrollTop=e.scrollHeight)}},[s]),(0,r.useEffect)(()=>{e&&c.current&&setTimeout(()=>{var e;return null==(e=c.current)?void 0:e.focus()},100)},[e]);let x=async()=>{if(!i.trim()||m.isPending)return;let e={id:"user-".concat(Date.now()),role:"user",content:i.trim(),timestamp:new Date};n(t=>[...t,e]),l("");try{let t=await m.mutateAsync({message:e.content,sessionId:o}),s={id:"assistant-".concat(Date.now()),role:"assistant",content:t.response,timestamp:new Date};n(e=>[...e,s])}catch(t){let e={id:"error-".concat(Date.now()),role:"assistant",content:"I'm sorry, I encountered an error. Please try again.",timestamp:new Date};n(t=>[...t,e])}},h=async()=>{await u.mutateAsync({sessionId:o}),n([{id:"welcome-new",role:"assistant",content:"Chat cleared. How can I help you?",timestamp:new Date}])},f={table:e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"overflow-x-auto my-2 rounded-lg border border-border",children:(0,a.jsx)("table",{className:"min-w-full text-xs",children:t})})},thead:e=>{let{children:t}=e;return(0,a.jsx)("thead",{className:"bg-muted/50",children:t})},tbody:e=>{let{children:t}=e;return(0,a.jsx)("tbody",{className:"divide-y divide-border",children:t})},tr:e=>{let{children:t}=e;return(0,a.jsx)("tr",{className:"hover:bg-muted/30 transition-colors",children:t})},th:e=>{let{children:t}=e;return(0,a.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-foreground whitespace-nowrap",children:t})},td:e=>{let{children:t}=e;return(0,a.jsx)("td",{className:"px-2 py-1.5 text-muted-foreground whitespace-nowrap",children:t})},p:e=>{let{children:t}=e;return(0,a.jsx)("p",{className:"mb-2 last:mb-0",children:t})},ul:e=>{let{children:t}=e;return(0,a.jsx)("ul",{className:"list-disc list-inside mb-2 space-y-1",children:t})},ol:e=>{let{children:t}=e;return(0,a.jsx)("ol",{className:"list-decimal list-inside mb-2 space-y-1",children:t})},li:e=>{let{children:t}=e;return(0,a.jsx)("li",{className:"text-sm",children:t})},strong:e=>{let{children:t}=e;return(0,a.jsx)("strong",{className:"font-semibold",children:t})},em:e=>{let{children:t}=e;return(0,a.jsx)("em",{className:"italic",children:t})},code:e=>{let{children:t}=e;return(0,a.jsx)("code",{className:"px-1 py-0.5 bg-muted rounded text-xs font-mono",children:t})}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.N,{children:!e&&(0,a.jsxs)(P.P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed bottom-20 right-4 lg:bottom-6 lg:right-6 z-50",children:[(0,a.jsxs)(z.$,{onClick:()=>t(!0),size:"icon-lg",className:"size-14 rounded-full shadow-lg bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,a.jsx)(M.A,{className:"size-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Open chat assistant"})]}),(0,a.jsxs)("span",{className:"absolute -top-1 -right-1 flex h-4 w-4",children:[(0,a.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary/40 opacity-75"}),(0,a.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-primary/60"})]})]})}),(0,a.jsx)(F.N,{children:e&&(0,a.jsx)(P.P.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"fixed bottom-20 right-4 lg:bottom-6 lg:right-6 z-50 w-[calc(100vw-2rem)] max-w-md",children:(0,a.jsxs)("div",{className:"bg-background border rounded-xl shadow-2xl flex flex-col h-[500px] max-h-[80vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-primary/5 rounded-t-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(L.A,{className:"size-4 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-sm",children:"Axis Assistant"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ask me anything about events"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(z.$,{variant:"ghost",size:"icon-sm",onClick:h,title:"Clear chat",className:"text-muted-foreground hover:text-foreground",children:(0,a.jsx)(J.A,{className:"size-4"})}),(0,a.jsx)(z.$,{variant:"ghost",size:"icon-sm",onClick:()=>t(!1),className:"text-muted-foreground hover:text-foreground",children:(0,a.jsx)(Q.A,{className:"size-4"})})]})]}),(0,a.jsx)(X.F,{ref:d,className:"flex-1 min-h-0 p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[s.map(e=>(0,a.jsx)("div",{className:(0,p.cn)("flex","user"===e.role?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:(0,p.cn)("max-w-[85%] rounded-2xl px-4 py-2.5 text-sm","user"===e.role?"bg-primary text-primary-foreground rounded-br-md":"bg-muted rounded-bl-md"),children:(0,a.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:(0,a.jsx)(V.oz,{remarkPlugins:[G.A],components:f,children:e.content})})})},e.id)),m.isPending&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:(0,a.jsx)(T.A,{className:"size-4 animate-spin text-muted-foreground"})})})]})}),(0,a.jsxs)("div",{className:"p-4 border-t bg-background rounded-b-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("textarea",{ref:c,value:i,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())},placeholder:"Ask about guests, arrivals, transfers...",rows:1,className:(0,p.cn)("flex-1 resize-none rounded-xl border bg-background px-4 py-2.5 text-sm","focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","placeholder:text-muted-foreground","h-[44px] max-h-[120px]")}),(0,a.jsx)(z.$,{onClick:x,disabled:!i.trim()||m.isPending,size:"icon",className:"rounded-xl shrink-0 h-[44px] w-[44px]",children:m.isPending?(0,a.jsx)(T.A,{className:"size-4 animate-spin"}):(0,a.jsx)(U.A,{className:"size-4"})})]}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground mt-2 text-center",children:"AI assistant may make mistakes. Verify important information."})]})]})})})]})}function H(e){let{children:t,user:s}=e,[n,i]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:(0,a.jsx)(N,{user:s})}),(0,a.jsx)(N,{user:s,mobile:!0,open:n,onClose:()=>i(!1)}),(0,a.jsxs)("div",{className:"lg:pl-64",children:[(0,a.jsx)(S,{user:s,onMenuClick:()=>i(!0)}),(0,a.jsx)("main",{className:"pb-20 lg:pb-8",children:(0,a.jsx)("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:t})})]}),(0,a.jsx)(E,{user:s}),(0,a.jsx)(B,{})]})}},64269:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(2821),r=s(75889);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},86259:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var a=s(95155);s(12115);var r=s(57268),n=s(64269);function i(e){let{className:t,orientation:s="horizontal",decorative:i=!0,...l}=e;return(0,a.jsx)(r.b,{"data-slot":"separator",decorative:i,orientation:s,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...l})}},96648:(e,t,s)=>{"use strict";s.d(t,{U:()=>r});var a=s(2493);function r(){let e="https://myzzbxhbyiobkmuquwun.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im15enpieGhieWlvYmttdXF1d3VuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNzE0NjcsImV4cCI6MjA3OTY0NzQ2N30.GvNA4g1zBSSUufkCx52NFLaGbgriwQXCXOPhj3WUEwM";return e&&t?(0,a.createBrowserClient)(e,t):null}}},e=>{e.O(0,[779,751,914,476,38,238,928,227,619,41,206,720,441,255,358],()=>e(e.s=10523)),_N_E=e.O()}]);